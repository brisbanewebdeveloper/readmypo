{"name":"readmypo","tagline":"Unofficial Pushover Client for OSX (Command Line)","body":"## About this script\r\n\r\n- Unofficial [Pushover](https://pushover.net/) Client for OSX Environment\r\n\r\n- PHP Command Line Script to read [Pushover](https://pushover.net/) Message via [Pushover Open Client API](https://pushover.net/api/client)\r\n\r\n## Install from GitHub\r\n\r\nThis script requires [terminal-notifier](https://github.com/julienXX/terminal-notifier).\r\n\r\nYou can install it via [Homebrew](http://brew.sh/):\r\n```\r\nbrew install terminal-notifier\r\n```\r\n\r\n## Install via Homebrew (Not available at the moment)\r\n\r\n```\r\nbrew install readmypo\r\n```\r\n\r\n## Uninstall\r\n\r\n```\r\nbrew uninstall readmypo\r\n```\r\n\r\nDelete the followings if exists:\r\n\r\n- ```~/Library/Application Support/readmypo/settings_<Device Name>.txt```\r\n- ```~/Library/LaunchAgents/local.readmypo[-<Device Name>].plist```\r\n\r\n## Usage\r\n\r\n#### Register your device (your OSX machine)\r\n\r\nExecute the following on terminal (Device Name can be anything like iMac, MacBookPro or MyMacPro):\r\n\r\n```shell\r\nreadmypo register <Email for Pushover> <Password for Pushover> <Device Name>\r\n```\r\n\r\nIf it says \"name: has already been taken\", you need to delete the device at https://pushover.net/.\r\n\r\nAbove command registers your device and displays the command to read Pushover message.  \r\nThe registered device can be seen at: https://pushover.net/\r\n\r\nThe infomation gets encrypted and saved as:  \r\n```~/Library/Application Support/readmypo/settings_<Device Name>.txt```\r\n\r\nExample Output:\r\n\r\n```shell\r\nSetting is saved to /Users/example/Library/Application Support/readmypo/settings_<Device Name>.txt\r\nTo read the message run \"readmypo read 12e8a9s08e1sx <Device Name>\"   <---- Use this command for next step\r\n```\r\n\r\n#### Test if this script can read the message\r\n\r\nExecute the following on terminal:\r\n\r\n```shell\r\nreadmypo read <The key from previous Step> <Device Name>\r\n```\r\n\r\nSend a test message at: https://pushover.net/\r\n\r\nThis command never finishes.  \r\nTo finish the command you press Ctrl + C on terminal.\r\n\r\n#### Regsiter the command to keep running with launchd\r\n\r\n```shell\r\ncd ~/Library/LaunchAgents\r\n```\r\n\r\nCreate a file ```~/Library/LaunchAgents/local.readmypo.plist```:\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\r\n<plist version=\"1.0\">\r\n<dict>\r\n    <key>Label</key>\r\n    <string>local.readmypo</string>\r\n    <key>ProgramArguments</key>\r\n    <array>\r\n        <string>/usr/local/bin/readmypo</string>\r\n        <string>read</string>\r\n        <string><REPLACE HERE TO YOUR KEY></string>\r\n        <string><REPLACE HERE TO YOUR DEVICE NAME></string>\r\n    </array>\r\n</dict>\r\n</plist>\r\n```\r\n\r\nRegister above service to launchd so that the ```read``` command is automatically launched when you boot your machine.\r\n\r\n```shell\r\nlaunchctl bootstrap gui/$UID local.readmypo.plist\r\nlaunchctl enable gui/$UID/local.readmypo\r\nlaunchctl kickstart -k gui/$UID/local.readmypo\r\n```\r\n\r\nOpen Console.app and keep eye on it.\r\n\r\nExample Log:\r\n\r\n```\r\n17/09/2015 8:54:10.567 pm php[24196]: Read My PO: /usr/local/bin/terminal-notifier -message 'Example message' -title 'Read MyPO' -open 'http://example.com/example-page.html' -subtitle 'http://example.com/example-page.html'\r\n```\r\n\r\n## FAQ\r\n\r\n#### I want to register multiple .plist because I use multiple devices\r\n\r\nName the file as ```~/Library/LaunchAgents/local.readmypo-<Device Name>.plist```\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\r\n<plist version=\"1.0\">\r\n<dict>\r\n    <key>Label</key>\r\n    <string>local.readmypo-<REPLACE HERE TO YOUR DEVICE NAME></string>\r\n    <key>ProgramArguments</key>\r\n    <array>\r\n        <string>/usr/local/bin/readmypo</string>\r\n        <string>read</string>\r\n        <string><REPLACE HERE TO YOUR KEY></string>\r\n        <string><REPLACE HERE TO YOUR DEVICE NAME></string>\r\n    </array>\r\n</dict>\r\n</plist>\r\n```\r\n\r\n```shell\r\nlaunchctl bootstrap gui/$UID local.readmypo-<Device Name>.plist\r\nlaunchctl enable gui/$UID/local.readmypo-<Device Name>\r\nlaunchctl kickstart -k gui/$UID/local.readmypo-<Device Name>\r\n```\r\n\r\n#### I don't like how the message is shown\r\n\r\nThis script checks if PHP script file ```~/bin/readmypo``` exists and apply ```require()``` if it does.\r\n\r\n- Define the class ```myCurlExt``` extending the class ```myCurl```\r\n- Override the method ```parse()```\r\n- Return the command options for [terminal-notifier](https://github.com/julienXX/terminal-notifier) as Array\r\n\r\n```php\r\n<?php\r\n\r\nclass myCurlExt extends myCurl {\r\n    public function parse($data) {\r\n        $args = array();\r\n        $data->message = escapeshellarg($data->message);\r\n        $args[] = \"-message {$data->message}\"; // escapeshellarg() returns like 'abc 123'\r\n        // Say, you always send \"title\" parameter\r\n        $data->title = escapeshellarg($data->title);\r\n        $args[] = \"-subtitle {$data->title}\";\r\n        if (isset($data->url)) {\r\n            $args[] = \"-open '{$data->url}'\";\r\n        }\r\n        return $args;\r\n    }\r\n}\r\n```\r\n\r\nThe Console Log says ```Read My PO: Using custom class``` when using your ```myCurlExt``` class.\r\n\r\n#### Additional Info\r\n\r\nIf you have updated the .plist file, you need to do the following on Yosemite:\r\n\r\n```shell\r\nlaunchctl unload local.readmypo.plist\r\nlaunchctl bootstrap gui/$UID local.readmypo.plist\r\nlaunchctl enable gui/$UID/local.readmypo\r\nlaunchctl kickstart -k gui/$UID/local.readmypo\r\n```\r\n\r\nThe following command kills the current process and re-runs the ```read``` command:\r\n\r\n```shell\r\nlaunchctl kickstart -k gui/$UID/local.readmypo\r\n```\r\n\r\n## Is this to receive the message for my OSX machine?\r\n\r\nYes, it is. I push messages from my iOS devices with URL to read it later at home as follows:\r\n\r\n[How to send a notification to Mac OSX computer from iOS device via Workflow and Pushover](https://gist.github.com/hironozu/2b6d1d174dbb13f9ea3d)\r\n\r\n## Disclaimer\r\n\r\nreadmypo is an unofficial Pushover Open Client, and that it is not released or supported by Superblock.\r\n","google":"UA-39856458-7","note":"Don't delete this file! It's used internally to help with page regeneration."}